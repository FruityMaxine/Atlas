# æŠ€æœ¯å®ç°ç»†èŠ‚

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜ Atlas æ¡†æ¶çš„æŠ€æœ¯å®ç°ï¼ŒåŒ…æ‹¬ Tauri IPC é€šä¿¡ã€æ¨¡å—åŠ¨æ€åŠ è½½ã€è¿›ç¨‹ç®¡ç†ç­‰ã€‚

---

## ğŸ”— Tauri IPC é€šä¿¡

### å‰ç«¯è°ƒç”¨åç«¯

```typescript
// src/components/Sidebar.tsx
import { invoke } from '@tauri-apps/api/tauri';

const modules = await invoke<ModuleInfo[]>('get_modules');
```

### åç«¯å‘½ä»¤å®šä¹‰

```rust
// src-tauri/src/commands.rs
#[tauri::command]
fn get_modules() -> Vec<ModuleInfo> {
    // è¿”å›æ¨¡å—åˆ—è¡¨
}
```

---

## ğŸ“¦ æ¨¡å— UI åŠ¨æ€åŠ è½½

```typescript
// src/core/ModuleLoader.tsx
const loadModuleUI = (moduleId: string) => {
  return React.lazy(() => 
    import(`../../modules/${moduleId}/ui/index.tsx`)
  );
};
```

---

## ğŸš€ é™é»˜å¯åŠ¨åç«¯æœåŠ¡

```rust
// src-tauri/src/process_manager.rs
#[cfg(target_os = "windows")]
use std::os::windows::process::CommandExt;

const CREATE_NO_WINDOW: u32 = 0x08000000;

pub fn start_backend(module_path: &str, port: u16) -> Result<Child> {
    #[cfg(target_os = "windows")]
    let child = Command::new("python")
        .arg(format!("{}/backend/main.py", module_path))
        .arg("--port").arg(port.to_string())
        .creation_flags(CREATE_NO_WINDOW)
        .spawn()?;
    
    Ok(child)
}
```

---

## ğŸ”„ å¥åº·æ£€æŸ¥æœºåˆ¶

```rust
pub async fn health_check(port: u16) -> Result<bool> {
    let url = format!("http://127.0.0.1:{}/health", port);
    
    match reqwest::get(&url).await {
        Ok(response) => Ok(response.status().is_success()),
        Err(_) => Ok(false),
    }
}
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æ¨¡å—å¼€å‘æŒ‡å—.md](./æ¨¡å—å¼€å‘æŒ‡å—.md) - æ¨¡å—å¼€å‘æµç¨‹
- [é«˜çº§åŠŸèƒ½.md](./é«˜çº§åŠŸèƒ½.md) - é«˜çº§åŠŸèƒ½ä½¿ç”¨
